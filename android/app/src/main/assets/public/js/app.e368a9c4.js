(function(t){function e(e){for(var a,r,s=e[0],c=e[1],l=e[2],u=0,m=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},o=[];function r(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"ca0437ce"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=i[t]=[e,a]}));e.push(n[2]=a);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=r(t);var l=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=i[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,n[1](l)}i[t]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0575":function(t,e,n){},"0c1c":function(t,e,n){},"0f97":function(t,e,n){},2001:function(t,e,n){},"206d":function(t,e,n){"use strict";var a=n("4413"),i=n.n(a);i.a},"21de":function(t,e,n){"use strict";var a=n("66fe"),i=n.n(a);i.a},"2bde":function(t,e,n){"use strict";var a=n("311f"),i=n.n(a);i.a},"2c57":function(t,e,n){},"311f":function(t,e,n){},"43ff":function(t,e,n){},4413:function(t,e,n){},4678:function(t,e,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b146","./hu.js":"5b146","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=o,t.exports=i,i.id="4678"},5177:function(t,e,n){t.exports=n.p+"media/login.ac2cb0bd.mp4"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a,i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{style:{background:"transparent"}},[t._e(),n("menu-panel",{directives:[{name:"show",rawName:"v-show",value:!t.cameraActive,expression:"!cameraActive"}]}),n("v-main",{directives:[{name:"show",rawName:"v-show",value:!t.cameraActive,expression:"!cameraActive"}]},[n("router-view",{key:t.$route.fullPath})],1),t.getUser&&!t.cameraActive?n("mobile-nav",{attrs:{app:""}}):t._e(),n("v-footer",{directives:[{name:"show",rawName:"v-show",value:!t.cameraActive,expression:"!cameraActive"}]}),t.cameraActive?n("camera-component"):t._e()],1)},r=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-bottom-navigation",{attrs:{app:"",grow:"",color:"primary"}},[n("v-btn",{model:{value:t.settings.showMenuPanel,callback:function(e){t.$set(t.settings,"showMenuPanel",e)},expression:"settings.showMenuPanel"}},[n("v-icon",[t._v("fa-bars")])],1),n("v-btn",{attrs:{to:{name:"Observaciones"},value:"Observaciones"}},[n("v-icon",[t._v("fa-images")])],1),n("v-btn",{staticClass:"camera-button elevation-4",attrs:{fab:"",depressed:"",value:"camera"},on:{click:t.openCamera}},[n("v-icon",{attrs:{color:"white"}},[t._v("fa-camera")])],1),n("v-btn",{attrs:{to:{name:"Mapa"},value:"Mapa"}},[n("v-icon",[t._v("fa-map-marked-alt")])],1),n("v-btn",{attrs:{to:{name:"Zonas"}}},[n("v-icon",[t._v("fa-map-marker-alt")])],1)],1)},c=[],l=(n("b0c0"),n("ade3")),u={ActivateCamera:"activateCamera",CreateObservation:"createObservation",CreateZone:"createZone",LoadZones:"loadZones",LoadUser:"loadUser",LoginUser:"loginUser",Logout:"logout",UpdateZone:"updateZone"},d=u,m=(n("c740"),function(t,e){var n=t.zones.findIndex((function(t){return t.id===e.id}));n>=0?i["a"].set(t.zones,n,e):t.zones.push(e)}),p=function(t,e){t.user=e},v=function(t,e){t.predictions=e},f=function(t,e){t.settings=e},h=function(t,e){t.zones=e},b={AddZone:"addZone",SetUser:"setUser",SetPredictions:"setPredictions",SetSettings:"setSettings",SetZones:"setZones"},g=(a={},Object(l["a"])(a,b.AddZone,m),Object(l["a"])(a,b.SetUser,p),Object(l["a"])(a,b.SetPredictions,v),Object(l["a"])(a,b.SetSettings,f),Object(l["a"])(a,b.SetZones,h),a),x=function(t,e){var n=t.state,a=t.commit,i=n.settings;i.cameraActive=e,a(b.SetSettings,i)},y=(n("d3b7"),n("bc3a")),_=n.n(y),C=(n("99af"),{host:"192.168.0.210",path:"",port:"1337",protocol:"http"}),w="".concat(C.protocol,"://").concat(C.host,":").concat(C.port).concat(C.path),j=_.a.create({baseURL:"".concat(w)});j.interceptors.request.use((function(t){var e=localStorage.getItem("authtoken");return e&&(t.headers.Authorization="Bearer ".concat(e)),t}),(function(t){return Promise.reject(t)}));var k,V,z=function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return j[t](e,n,a)},S=function(t){return z("post","/observations",t)},L=function(t){return z("post","/zones",t)},O=function(t){return z("get","/pathogens/".concat(t))},I=function(){return z("get","/users/me")},$=function(t){return z("get","/zones",t)},T=function(t){return z("get","/alerts",t)},E=function(t){return z("post","/auth/local",t)},R=function(t){return z("get","/taxons/".concat(t,"/statistics"))},P=function(t,e){return z("put","/zones/".concat(t),e)},A=function(t,e){var n=t.commit;return new Promise((function(t,a){S(e).then((function(e){n(b.SetPredictions,e.data.predictions),t(e)}),(function(t){a(t)}))}))},M=function(t,e){var n=t.commit;return new Promise((function(t,a){L(e).then((function(e){n(b.AddZone,e.data),t(e.data)}),(function(t){a(t)}))}))},D=function(t){var e=t.commit;return new Promise((function(t,n){$({params:{_sort:"id:DESC"}}).then((function(n){e(b.SetZones,n.data),t(n)}),(function(t){n(t)}))}))},N=function(t){var e=t.commit;return new Promise((function(t,n){I().then((function(n){e(b.SetUser,n.data),t(n)}),(function(t){n(t)}))}))},Z=function(t){t?localStorage.setItem("authtoken",t):localStorage.removeItem("authtoken")},U=function(t,e){var n=t.commit;return new Promise((function(t,a){E(e).then((function(a){n(b.SetUser,a.data.user),Z(a.data.jwt),t(e)}),(function(t){a(t)}))}))},B=function(t){var e=t.commit;return new Promise((function(t){e(b.SetUser,void 0),Z(),t()}))},G=function(t,e){var n=t.commit,a=e.id,i=e.zone;return new Promise((function(t,e){P(a,i).then((function(e){n(b.AddZone,e.data),t(e.data)}),(function(t){e(t)}))}))},q=(k={},Object(l["a"])(k,d.ActivateCamera,x),Object(l["a"])(k,d.CreateObservation,A),Object(l["a"])(k,d.CreateZone,M),Object(l["a"])(k,d.LoadUser,N),Object(l["a"])(k,d.LoadZones,D),Object(l["a"])(k,d.LoginUser,U),Object(l["a"])(k,d.Logout,B),Object(l["a"])(k,d.UpdateZone,G),k),F=function(t){return t.user},H=function(t){return t.predictions},J=function(t){return t.settings},X=(n("7db0"),function(t){return function(e){return t.zones.find((function(t){return t.id===e}))}}),W=function(t){return t.zones},K={GetUser:"getUser",GetPredictions:"getPredictions",GetSettings:"getSettings",GetZoneById:"getZoneById",GetZones:"getZones"},Y=(V={},Object(l["a"])(V,K.GetUser,F),Object(l["a"])(V,K.GetPredictions,H),Object(l["a"])(V,K.GetSettings,J),Object(l["a"])(V,K.GetZoneById,X),Object(l["a"])(V,K.GetZones,W),V),Q={computed:{settings:{get:function(){return this.$store.getters[K.GetSettings]},set:function(t){this.$store.commit(b.SetSettings,t)}}},methods:{openCamera:function(){this.$store.dispatch(d.ActivateCamera,!0)},routeName:function(){return this.$route.name}},data:function(){return{buttonNav:2}}},tt=Q,et=(n("e255"),n("2877")),nt=n("6544"),at=n.n(nt),it=n("b81c"),ot=n("8336"),rt=n("132d"),st=Object(et["a"])(tt,s,c,!1,null,null,null),ct=st.exports;at()(st,{VBottomNavigation:it["a"],VBtn:ot["a"],VIcon:rt["a"]});var lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:!1,rounded:"false"}},[n("v-navigation-drawer",{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-avatar",[n("v-img",{attrs:{src:t.imageRoute(t.user.avatar.formats.thumbnail.url)}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.user.first_name)+" "+t._s(t.user.last_name))]),n("v-list-item-subtitle",[t._v("Usuario")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{link:""},on:{click:t.logout}},[n("v-list-item-action",[n("v-icon",[t._v("mdi-logout")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Salir")])],1)],1)],1)],1),n("v-app-bar",{attrs:{app:"",rounded:"false",color:"white",flat:!0,outlined:!0,"hide-on-scroll":!0}},[n("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),n("v-toolbar-title",[t._v(t._s(t.currentRouteName))]),n("v-spacer"),n("v-btn",{attrs:{icon:""}},[n("v-icon",[t._v("mdi-bell")])],1)],1)],1)},ut=[],dt={computed:{currentRouteName:function(){return this.$route.name},user:function(){return this.$store.getters[K.GetUser]}},data:function(){return{drawer:!1}},methods:{logout:function(){this.$store.dispatch(d.Logout),this.$router.push({name:"Login"})},imageRoute:function(t){return"".concat(w).concat(t)}}},mt=dt,pt=(n("e3c7"),n("40dc")),vt=n("5bc1"),ft=n("b0af"),ht=n("ce7e"),bt=n("adda"),gt=n("8860"),xt=n("da13"),yt=n("1800"),_t=n("8270"),Ct=n("5d23"),wt=n("f774"),jt=n("2fa4"),kt=n("2a7f"),Vt=Object(et["a"])(mt,lt,ut,!1,null,null,null),zt=Vt.exports;at()(Vt,{VAppBar:pt["a"],VAppBarNavIcon:vt["a"],VBtn:ot["a"],VCard:ft["a"],VDivider:ht["a"],VIcon:rt["a"],VImg:bt["a"],VList:gt["a"],VListItem:xt["a"],VListItemAction:yt["a"],VListItemAvatar:_t["a"],VListItemContent:Ct["b"],VListItemSubtitle:Ct["c"],VListItemTitle:Ct["d"],VNavigationDrawer:wt["a"],VSpacer:jt["a"],VToolbarTitle:kt["a"]});var St=function(){return null!==localStorage.getItem("authtoken")},Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"overlay"},[n("div",{staticClass:"camera-frame"}),n("div",{staticClass:"cameraPreview",attrs:{id:"cameraPreview"}},[n("div",{staticClass:"close-button",on:{click:t.closeCamera}},[n("i",{staticClass:"fas fa-chevron-left"})]),n("span",{staticClass:"text-information"},[t._v("Posicione el insecto dentro del recuadro")]),n("div",{staticClass:"shutter-button",on:{click:t.takePicture}},[n("i",{staticClass:"fas fa-camera"})])])]),n("v-dialog",{attrs:{color:"white",fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.isSaving,callback:function(e){t.isSaving=e},expression:"isSaving"}},[n("v-container",{staticClass:"white",attrs:{"fill-height":"",fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{align:"center"}},[n("v-progress-circular",{attrs:{width:7,size:100,color:"primary mb-15",indeterminate:""}}),n("h3",{staticClass:"text-h4 mt-15 font-weight-light"},[t._v("Identificando especie")])],1)],1)],1)],1),t.showTutorial?n("tutorial-component",{staticStyle:{position:"absolute"},attrs:{image:t.image,title:"Identifique insectos",text:"Apunte con la camara y posicione al insecto dentro del recuadro desde una posición dorsal o lateral del mismo para obtener un mejor resultado"},on:{accept:function(e){t.showTutorial=!1}}}):t._e()],1)},Ot=[],It=(n("c975"),n("ac1f"),n("1276"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("96cf"),n("1da1")),$t=(n("b64b"),n("1515")),Tt=n.n($t);function Et(t){var e=Object.keys(t),n=e.find((function(e){return void 0!==t[e]}));return n?t[n]:void 0}var Rt=function(t){var e=t;if(!e||!isNaN(e))return e;try{return e=Tt()(e),e=Et(e),e}catch(n){return}},Pt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:"FeatureCollection",features:[{type:"Feature",properties:n,geometry:{type:"Point",coordinates:[e,t]}}]}},At=n("81c3"),Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"p-fixed",attrs:{background:"white",fluid:"","fill-height":""}},[n("v-row",[n("v-col",{attrs:{align:"center",justify:"center"}},[n("v-img",{staticClass:"mt-10",attrs:{"max-width":344,height:344,src:t.image}})],1)],1),n("v-row",[n("v-col",{attrs:{align:"center",justify:"center"}},[n("h4",{staticClass:"text-h4",domProps:{innerHTML:t._s(t.title)}}),n("p",{staticClass:"text-body-1 mt-4",domProps:{innerHTML:t._s(t.text)}})])],1),n("v-row",[n("v-col",{attrs:{align:"center",justify:"center"}},[n("v-btn",{attrs:{color:"primary","max-width":"344",rounded:"",width:"100%",large:"",depressed:""},on:{click:t.accept}},[t._v(" Entendido ")])],1)],1)],1)},Dt=[],Nt={props:{image:{type:String,default:"@/assets/images/identify/economic.svg"},title:{type:String,default:""},text:{type:String,default:""}},methods:{accept:function(){this.$emit("accept",!0)}}},Zt=Nt,Ut=n("62ad"),Bt=n("a523"),Gt=n("0fd9"),qt=Object(et["a"])(Zt,Mt,Dt,!1,null,null,null),Ft=qt.exports;at()(qt,{VBtn:ot["a"],VCol:Ut["a"],VContainer:Bt["a"],VImg:bt["a"],VRow:Gt["a"]});var Ht=n("c855"),Jt=n.n(Ht),Xt=At["a"].Geolocation,Wt=At["a"].CameraPreview;function Kt(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var n=t.split(",")[0].split(":")[1].split(";")[0],a=new Uint8Array(e.length),i=0;i<e.length;i++)a[i]=e.charCodeAt(i);return new Blob([a],{type:n})}var Yt={components:{TutorialComponent:Ft},data:function(){return{bottomNav:"recent",isSaving:!1,showTutorial:!0,image:Jt.a,options:{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}}},mounted:function(){this.openCamera()},methods:{openCamera:function(){Wt.start()},closeCamera:function(){this.$store.dispatch(d.ActivateCamera,!1)},takePicture:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isSaving=!0,e.next=3,Wt.capture();case 3:n=e.sent,a=n.value,i="data:image/jpeg;base64,".concat(a),Wt.stop(),t.clipImage(i);case 8:case"end":return e.stop()}}),e)})))()},processImage:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=new FormData,n.t0=new Date,n.next=4,e.createGeoJSON(t);case 4:n.t1=n.sent,i={count:1,date:n.t0,geojson:n.t1},a.append("files.image",t,"species"),a.append("data",JSON.stringify(i)),e.$store.dispatch(d.CreateObservation,a).then((function(){e.isSaving=!1,e.$store.dispatch(d.ActivateCamera,!1),e.$router.push({name:"Identificacion"})})),console.log(i);case 10:case"end":return n.stop()}}),n)})))()},parseEXIFCoordinate:function(t){return t?"".concat(t[0],"° ").concat(t[1],"' ").concat(t[2],'"'):void 0},getGPSCoordinates:function(t){return{latitude:Rt(this.parseEXIFCoordinate(t.GPSLatitude)+t.GPSLatitudeRef),longitude:Rt(this.parseEXIFCoordinate(t.GPSLongitude)+t.GPSLongitudeRef)}},createGeoJSON:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n={},isNaN(n.latitude)&&isNaN(n.longitude)){t.next=5;break}return t.abrupt("return",Pt(n.latitude,n.longitude));case 5:return t.next=7,Xt.getCurrentPosition(e.options);case 7:return a=t.sent,t.abrupt("return",Pt(a.coords.latitude,a.coords.longitude));case 9:case"end":return t.stop()}}),t)})))()},clipImage:function(t){var e=this,n=document.createElement("CANVAS"),a=new Image;a.onload=function(){n.width=300,n.height=300;var t=n.getContext("2d");t.drawImage(a,a.width/2-250,a.height/2-250,450,450,0,0,300,300),e.processImage(Kt(n.toDataURL("image/jpeg",1)))},a.src=t}},destroyed:function(){Wt.stop()}},Qt=Yt,te=(n("e902"),n("169a")),ee=n("490a"),ne=Object(et["a"])(Qt,Lt,Ot,!1,null,null,null),ae=ne.exports;at()(ne,{VCol:Ut["a"],VContainer:Bt["a"],VDialog:te["a"],VProgressCircular:ee["a"],VRow:Gt["a"]});var ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{app:""},model:{value:t.settings.showMenuPanel,callback:function(e){t.$set(t.settings,"showMenuPanel",e)},expression:"settings.showMenuPanel"}},[t.user?[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-avatar",[n("v-img",{attrs:{src:t.imageRoute(t.user.avatar.formats.thumbnail.url)}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.user.first_name)+" "+t._s(t.user.last_name))]),n("v-list-item-subtitle",[t._v("Usuario")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{link:""},on:{click:t.logout}},[n("v-list-item-action",[n("v-icon",[t._v("mdi-logout")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Salir")])],1)],1)],1)]:t._e()],2)},oe=[],re={computed:{currentRouteName:function(){return this.$route.name},user:function(){return this.$store.getters[K.GetUser]},settings:{get:function(){return this.$store.getters[K.GetSettings]},set:function(t){this.$store.commit(b.SetSettings,t)}}},data:function(){return{drawer:!1}},methods:{logout:function(){this.$store.dispatch(d.Logout),this.$router.push({name:"Login"})},imageRoute:function(t){return"".concat(w).concat(t)}}},se=re,ce=(n("7da1"),Object(et["a"])(se,ie,oe,!1,null,null,null)),le=ce.exports;at()(ce,{VDivider:ht["a"],VIcon:rt["a"],VImg:bt["a"],VList:gt["a"],VListItem:xt["a"],VListItemAction:yt["a"],VListItemAvatar:_t["a"],VListItemContent:Ct["b"],VListItemSubtitle:Ct["c"],VListItemTitle:Ct["d"],VNavigationDrawer:wt["a"]});var ue={components:{MenuPanel:le,MobileNav:ct,AppBar:zt,CameraComponent:ae},name:"App",computed:{theme:function(){return this.$vuetify.theme.dark?"dark":"light"},getUser:function(){return this.$store.getters[K.GetUser]},cameraActive:function(){return this.$store.getters[K.GetSettings].cameraActive}},beforeCreate:function(){var t=this;St()?this.$store.dispatch(d.LoadUser).then((function(){t.$store.dispatch(d.LoadZones)})).catch((function(e){401===e.response.status&&(localStorage.removeItem("authtoken"),t.$router.push({name:"Login"}))})):this.$router.push({name:"Login"})}},de=ue,me=(n("5c0b"),n("7496")),pe=n("553a"),ve=n("f6c4"),fe=Object(et["a"])(de,o,r,!1,null,null,null),he=fe.exports;at()(fe,{VApp:me["a"],VFooter:pe["a"],VMain:ve["a"]});var be=n("9483");Object(be["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var ge=n("8c4f"),xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},ye=[],_e={name:"Home",components:{}},Ce=_e,we=Object(et["a"])(Ce,xe,ye,!1,null,null,null),je=we.exports,ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"ma-0 pa-0 p-fixed",attrs:{fluid:""}},[a("div",{staticClass:"video-container"},[a("v-overlay",{attrs:{absolute:!0}}),a("video",{attrs:{autoplay:"",loop:"",muted:"",width:"100%"},domProps:{muted:!0}},[a("source",{attrs:{src:n("5177"),type:"video/mp4"}})])],1),a("div",{staticClass:"pa-8",attrs:{fluid:""}},[a("h3",{staticClass:"text-h4 bold"},[t._v("Bienvenido")]),a("span",{staticClass:"subtitle-1"},[t._v("Inicie sesión para continuar")]),a("v-form",{ref:"form",staticClass:"text-center mt-6",attrs:{xs:"","lazy-validation":""}},[a("v-text-field",{attrs:{label:"Correo",required:"","append-icon":"mdi-account"},model:{value:t.user.identifier,callback:function(e){t.$set(t.user,"identifier",e)},expression:"user.identifier"}}),a("v-text-field",{attrs:{label:"Contraseña","append-icon":t.hidePassword?"mdi-eye":"mdi-eye-off",type:t.hidePassword?"password":"text",required:""},on:{"click:append":function(){return t.hidePassword=!t.hidePassword},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),a("div",{staticClass:"text-right"},[a("span",{staticClass:"caption"},[t._v("Olvidó la contraseña?")])]),a("v-btn",{staticClass:"mt-10 text-center",attrs:{color:"primary","max-width":"344",rounded:"",width:"100%",large:"",depressed:""},on:{click:t.login}},[t._v(" Iniciar ")])],1),a("p",{staticClass:"subtitle-1 text-center mt-12"},[t._v(" Nuevo usuario? "),a("router-link",{attrs:{to:{name:"Register"}}},[t._v("Registrate")])],1)],1)])},Ve=[],ze={computed:{validateFields:function(){return this.user.password.length&&this.user.identifier.length}},data:function(){return{user:{password:"",identifier:""},hidePassword:!0}},methods:{login:function(){var t=this;this.validateFields&&this.$store.dispatch(d.LoginUser,this.user).then((function(){t.$router.push({name:"Mapa"})}))}}},Se=ze,Le=(n("206d"),n("4bd4")),Oe=n("a797"),Ie=n("8654"),$e=Object(et["a"])(Se,ke,Ve,!1,null,null,null),Te=$e.exports;at()($e,{VBtn:ot["a"],VContainer:Bt["a"],VForm:Le["a"],VOverlay:Oe["a"],VTextField:Ie["a"]});var Ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[n("v-app-bar",{attrs:{rounded:"false",color:"transparent",flat:""}},[n("v-toolbar-title",[t._v("Observaciones")]),n("v-spacer"),n("v-btn",{attrs:{icon:""}},[n("v-icon",[t._v("mdi-magnify")])],1)],1),n("v-list",{attrs:{"two-line":""}},[t._l(t.filteredList,(function(e){return[n("v-list-item",{key:e.id,attrs:{to:{name:"Observacion",params:{id:e.id}}}},[n("v-list-item-avatar",[n("v-img",{attrs:{src:t.imageRoute(e.image.formats.thumbnail.url)}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:t._s(t.composeScientificName(e))}}),n("v-list-item-subtitle",{domProps:{textContent:t._s(e.taxon.common_name)}})],1),n("v-list-item-action",[n("v-list-item-action-text",[t._v(t._s(t.displayDate(e.created_at)))]),e.taxon.sanitary?n("v-icon",{attrs:{small:"",color:t.importanceColor[e.taxon.sanitary]}},[t._v("fa-heartbeat")]):t._e(),e.taxon.economic?n("v-icon",{attrs:{small:"",color:t.importanceColor[e.taxon.economic]}},[t._v("fa-seedling")]):t._e()],1)],1),n("v-divider",{key:e.id+"-divider"})]}))],2),n("v-dialog",{attrs:{color:"white",fullscreen:"","hide-overlay":""},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("v-container",{staticClass:"white",attrs:{"fill-height":"",fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{align:"center"}},[n("v-progress-circular",{attrs:{width:7,size:100,color:"primary mb-15",indeterminate:""}}),n("h3",{staticClass:"text-h4 mt-15 font-weight-light"},[t._v("Cargando observaciones")])],1)],1)],1)],1),n("v-speed-dial",{staticStyle:{bottom:"80px"},attrs:{bottom:"",right:"",direction:"top",fixed:"",transition:"slide-y-reverse-transition"},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-btn",{attrs:{color:"primary",dark:"",fab:"",medium:""}},[t.filter?n("v-icon",{attrs:{dark:""}},[t._v(" mdi-close ")]):n("v-icon",[t._v(" mdi-filter ")])],1)]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}},t._l(t.filterButtons,(function(e,a){return n("v-btn",{key:a,attrs:{fab:"",dark:"",small:"",color:t.filterImportance.includes(e.value)?"primary lighten-2":"primary"},on:{click:function(n){return t.setFilter(e.value)}}},[n("v-icon",[t._v(t._s(e.icon))])],1)})),1)],1)},Re=[],Pe=(n("4de4"),n("45fc"),n("a434"),n("07ac"),function(t){var e=new Date,n=new Date(t),a=Math.floor((e-n)/1e3),i=Math.floor(a/60),o=Math.floor(i/60),r=Math.floor(o/24);return o-=24*r,i=i-24*r*60-60*o,a=a-24*r*60*60-60*o*60-60*i,{days:r,hours:o,minutes:i,seconds:a}}),Ae=["primary","yellow","orange","red"],Me={computed:{importanceColor:function(){return Ae},filteredList:function(){var t=this;return this.observations.filter((function(e){return 0===t.filterImportance.length||t.filterImportance.some((function(t){return e.taxon[t]}))}))}},data:function(){return{observations:[],tabs:["Mis observaciones","Cercanas"],filterImportance:[],filter:!1,isLoading:!0,filterButtons:[{icon:"fa-heartbeat",value:"sanitary"},{icon:"fa-seedling",value:"economic"}]}},mounted:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z("get","/observations",{params:{_sort:"id:DESC"}});case 2:t.observations=e.sent.data,t.isLoading=!1;case 4:case"end":return e.stop()}}),e)})))()},methods:{composeScientificName:function(t){return"".concat(t.taxon.parent.name," ").concat(t.taxon.name)},displayDate:function(t){var e=Object.values(Pe(t)),n=["dias","horas","minutos","segundos"],a=e.findIndex((function(t){return t>0}));return"Hace ".concat(e[a]," ").concat(n[a])},setFilter:function(t){var e=this.filterImportance.findIndex((function(e){return e===t}));e>-1?this.filterImportance.splice(e,1):this.filterImportance.push(t)},imageRoute:function(t){return"".concat(w).concat(t)}}},De=Me,Ne=n("c73b"),Ze=Object(et["a"])(De,Ee,Re,!1,null,null,null),Ue=Ze.exports;at()(Ze,{VAppBar:pt["a"],VBtn:ot["a"],VCol:Ut["a"],VContainer:Bt["a"],VDialog:te["a"],VDivider:ht["a"],VIcon:rt["a"],VImg:bt["a"],VList:gt["a"],VListItem:xt["a"],VListItemAction:yt["a"],VListItemActionText:Ct["a"],VListItemAvatar:_t["a"],VListItemContent:Ct["b"],VListItemSubtitle:Ct["c"],VListItemTitle:Ct["d"],VProgressCircular:ee["a"],VRow:Gt["a"],VSpacer:jt["a"],VSpeedDial:Ne["a"],VToolbarTitle:kt["a"]});var Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-0 ma-0 map-container",attrs:{fluid:"","fill-height":""}},[n("v-menu",{staticStyle:{top:"-12px !important"},attrs:{"min-width":"100%",width:"100%","offset-y":"",bottom:"",attach:"",rounded:"b-xl","close-on-content-click":!1,transition:"slide-y-transition"},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-card",[n("v-card-title",[n("h2",{staticClass:"title"},[t._v("Filtro")])]),n("v-card-text",[n("v-chip-group",{attrs:{multiple:"","active-class":"primary--text"},model:{value:t.filterSelected,callback:function(e){t.filterSelected=e},expression:"filterSelected"}},t._l(t.filterType,(function(e){return n("v-chip",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),1),n("v-chip-group",{attrs:{multiple:"","active-class":"primary--text"},model:{value:t.importanceLevel,callback:function(e){t.importanceLevel=e},expression:"importanceLevel"}},t._l(t.importanceLevels,(function(e,a){return n("v-chip",{key:e,attrs:{value:a}},[t._v(" "+t._s(e)+" ")])})),1)],1),n("v-card-text",[n("v-slider",{attrs:{step:"5",color:"blue","thumb-color":"blue","thumb-label":"always",hint:"Distancia (km)","track-color":"primary","persistent-hint":"",max:"100",min:"5"},model:{value:t.distance,callback:function(e){t.distance=e},expression:"distance"}})],1)],1)],1),n("map-component",{ref:"leaflet",attrs:{clusters:"",zoomAnimation:!1,geojson:t.geojson}}),n("v-btn",{staticStyle:{bottom:"80px"},attrs:{color:"primary",dark:"",elevation:"2",fixed:"",bottom:"",right:"",fab:"",medium:""},on:{click:function(e){return t.pointMe()}}},[n("v-icon",[t._v("mdi-crosshairs-gps")])],1),n("v-btn",{staticStyle:{bottom:"150px"},attrs:{color:"primary",elevation:"2",dark:"",fixed:"",bottom:"",right:"",fab:"",medium:""},on:{click:function(e){t.menu=!t.menu}}},[t.menu?n("v-icon",{attrs:{dark:""}},[t._v(" mdi-close ")]):n("v-icon",[t._v(" mdi-filter ")])],1),n("v-dialog",{attrs:{color:"white",fullscreen:"","hide-overlay":""},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("v-container",{staticClass:"white",attrs:{"fill-height":"",fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{align:"center"}},[n("v-progress-circular",{attrs:{width:7,size:100,color:"primary mb-15",indeterminate:""}}),n("h3",{staticClass:"text-h4 mt-15 font-weight-light"},[t._v("Cargando observaciones")])],1)],1)],1)],1)],1)},Ge=[],qe=(n("caad"),n("d81d"),n("fb6a"),n("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"leafletMap",style:t.mapStyle})}),Fe=[],He=(n("a9e3"),n("e11e")),Je=n.n(He);n("6cc5"),n("8243"),n("3ac1"),n("7319");delete Je.a.Icon.Default.prototype._getIconUrl,Je.a.Icon.Default.mergeOptions({iconRetinaUrl:n("584d"),iconUrl:n("6397"),shadowUrl:n("e2b9")});var Xe=new Je.a.DivIcon({html:'<div class="v-btn v-btn--depressed v-btn--fab v-btn--round theme--dark v-size--x-small primary blob red"><i class="v-icon notranslate fa fa-bug theme--dark"></i></div>',iconSize:[40,40],className:"myDivIcon"}),We=new Je.a.DivIcon({html:'<div class="v-btn v-btn--depressed v-btn--fab v-btn--round theme--dark v-size--x-small blue blob "><i class="v-icon notranslate fa fa-street-view theme--dark"></i></div>',iconSize:[40,40],className:"myDivIcon"}),Ke={props:{geojson:{type:[Array,Object],default:function(){return[]}},height:{type:String,default:"100%"},width:{type:String,default:"100%"},maxZoom:{type:Number,default:8},zoomAnimation:{type:Boolean,default:!0},clusters:{type:Boolean,default:!1},addMarker:{type:Boolean,default:!1}},computed:{mapStyle:function(){return{width:this.width,height:this.height,zIndex:2}}},data:function(){return{map:void 0,features:[],markers:void 0,config:{attributionControl:!1,zoomControl:!1},currentPosition:{marker:void 0,radius:void 0},markerClusters:new Je.a.MarkerClusterGroup}},watch:{geojson:{handler:function(t){this.setGeoJSON(t)},deep:!0}},mounted:function(){this.map=new Je.a.Map(this.$refs.leafletMap,this.config).setView([0,0],2),this.handleEvents(),new Je.a.TileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(this.map),this.clusters&&this.map.addLayer(this.markerClusters),this.markers=(new Je.a.FeatureGroup).addTo(this.map),this.setGeoJSON(this.geojson)},methods:{handleEvents:function(){var t=this;this.map.on("click",(function(e){t.addMarker&&t.createMarker(e)}))},setGeoJSON:function(t){this.features=new Je.a.GeoJSON(t,{pointToLayer:this.pointToLayer,onEachFeature:this.onEachFeature}),this.clusters?(this.markerClusters.clearLayers(),this.markerClusters.addLayers(this.features)):this.map.addLayer(this.features)},clearLayers:function(){this.markers.clearLayers()},setUserLocation:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.currentPosition.marker?this.currentPosition.marker.setLatLng(t):(this.currentPosition.marker=new Je.a.Marker(t).setIcon(We),this.currentPosition.marker.addTo(this.map)),this.currentPosition.radius?(this.currentPosition.radius.setLatLng(t),this.currentPosition.radius.setRadius(e)):e>0&&(this.currentPosition.radius=new Je.a.Circle(t,{color:"#2196F3",weight:1,fillColor:"#2196F3",fillOpacity:.1,radius:e}),this.currentPosition.radius.addTo(this.map))},zoomToMarkers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.maxZoom;this.map[this.zoomAnimation?"flyToBounds":"fitBounds"](this.markers.getBounds(),{maxZoom:t})},zoomToPoints:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.maxZoom;this.map[this.zoomAnimation?"flyToBounds":"fitBounds"](this.features.getBounds(),{maxZoom:t})},zoomToUserLocation:function(t){this.map[this.zoomAnimation?"flyToBounds":"fitBounds"](this.currentPosition.radius?this.currentPosition.radius.getBounds():[this.currentPosition.marker.getLatLng()],{maxZoom:t})},setView:function(t){this.map.setView(t)},pointToLayer:function(t,e){var n=t.properties.radius?new Je.a.Circle(e,Number(t.properties.radius)):new Je.a.Marker(e);return Object.assign(n,{feature:t}),n},onEachFeature:function(t,e){var n=t.geometry.type,a=Object.prototype.hasOwnProperty.call(t.properties,"radius");"Point"!==n||a||(e.setIcon(Xe),t.properties&&(t.properties.popupContent&&e.bindPopup(t.properties.popupContent),t.properties.icon?e.setIcon(this.insectIcon(t.properties.icon,t.properties.color)):e.setIcon(Xe)))},insectIcon:function(t,e){return new Je.a.DivIcon({html:'<div class="v-btn v-btn--depressed v-btn--fab v-btn--round theme--dark v-size--x-small blob '.concat(e,'"><i class="v-icon notranslate fa ').concat(t,' theme--dark"></i></div>'),iconSize:[40,40],className:"myDivIcon"})},createMarker:function(t){var e=new Je.a.Marker(t.latlng);this.markers.addLayer(e),this.$emit("onAddMarker",e.toGeoJSON())}}},Ye=Ke,Qe=(n("894b"),Object(et["a"])(Ye,qe,Fe,!1,null,null,null)),tn=Qe.exports,en=["nula","baja","media","alta"],nn=At["a"].Geolocation,an={name:"Mapa",components:{MapComponent:tn},computed:{geojson:function(){var t=this;return this.observations.filter((function(e){return e.geojson&&(!t.filterSelected.length||t.filterSelected.some((function(t){return e.taxon[t]>0})))&&(0===t.importanceLevel.length||t.filterType.some((function(n){return t.importanceLevel.includes(e.taxon[n.value])})))})).map((function(e){var n=e.taxon.economic||e.taxon.sanitary;return e.geojson.features[0].properties.icon=e.taxon.economic===e.taxon.sanitary?"fa-bug":e.taxon.economic>e.taxon.sanitary?"fa-seedling":"fa-bug",e.geojson.features[0].properties.color=Ae[n],e.geojson.features[0].properties.popupContent='\n        <a href="/taxons/'.concat(e.taxon.id,'" class="v-list-item v-list-item--link theme--light pl-0">\n          <div class="v-avatar v-list-item__avatar grey" style="height: 40px; min-width: 40px; width: 40px;">\n          <div class="v-image v-responsive theme--light">\n            <div class="v-responsive__sizer" style="padding-bottom: 55.5102%;"></div>\n            <div class="v-image__image v-image__image--cover" style="background-image: url(&quot;').concat(t.imageRoute(e.taxon.image.formats.thumbnail.url),'&quot;); \n              background-position: center center;"></div><div class="v-responsive__content" style="width: 245px;"></div>\n            </div>\n          </div>\n          <div>\n            <div class="v-list-item__title headline">').concat(e.taxon.common_name,'</div>\n            <div class="v-list-item__subtitle">').concat(e.taxon.parent.name," ").concat(e.taxon.name,"</div>\n          </div>\n        </a>"),e})).map((function(t){return t.geojson}))}},data:function(){return{fab:!1,observations:[],options:{enableHighAccuracy:!0,timeout:5e3,maximumAge:0},distance:5,menu:!1,importanceColor:Ae,importanceLevel:[],importanceLevels:en,filterType:[{label:"Economica",value:"economic"},{label:"Sanitaria",value:"sanitary"}],filterSelected:[],isLoading:!0}},watch:{distance:{handler:function(t){var e=this;return Object(It["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,nn.getCurrentPosition(e.options);case 2:n=t.sent,z("get","/observations",{params:{lat:n.coords.latitude,long:n.coords.longitude,distance:e.distance}}).then((function(t){e.$refs.leaflet.setUserLocation(Object.values(n.coords).slice(0,2),1e3*e.distance),e.$refs.leaflet.zoomToUserLocation(),e.observations=t.data}));case 4:case"end":return t.stop()}}),t)})))()}}},mounted:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,nn.getCurrentPosition(t.options);case 2:n=e.sent,z("get","/observations",{params:{lat:n.coords.latitude,long:n.coords.longitude,distance:t.distance}}).then((function(e){t.$refs.leaflet.setUserLocation(Object.values(n.coords).slice(0,2),1e3*t.distance),t.$refs.leaflet.zoomToUserLocation(),t.observations=e.data,t.isLoading=!1}));case 4:case"end":return e.stop()}}),e)})))()},methods:{pointMe:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,nn.getCurrentPosition(t.options);case 2:n=e.sent,t.$refs.leaflet.setUserLocation(Object.values(n.coords).slice(0,2),1e3*t.distance),t.$refs.leaflet.zoomToUserLocation(15);case 5:case"end":return e.stop()}}),e)})))()},imageRoute:function(t){return"".concat(w).concat(t)}}},on=an,rn=(n("87a6"),n("99d9")),sn=n("cc20"),cn=n("ef9a"),ln=n("e449"),un=n("ba0d"),dn=Object(et["a"])(on,Be,Ge,!1,null,"25035983",null),mn=dn.exports;at()(dn,{VBtn:ot["a"],VCard:ft["a"],VCardText:rn["a"],VCardTitle:rn["b"],VChip:sn["a"],VChipGroup:cn["a"],VCol:Ut["a"],VContainer:Bt["a"],VDialog:te["a"],VIcon:rt["a"],VMenu:ln["a"],VProgressCircular:ee["a"],VRow:Gt["a"],VSlider:un["a"]});var pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.observation?n("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[n("v-card",{staticClass:"mx-auto"},[n("v-list-item",{attrs:{to:{name:"Especie",params:{id:t.observation.taxon.id}}}},[n("v-list-item-avatar",{attrs:{color:"grey"}},[n("v-img",{attrs:{src:t.imageRoute(t.observation.taxon.image.formats.thumbnail.url)}})],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline",domProps:{innerHTML:t._s(t.composeScientificName(t.observation))}}),n("v-list-item-subtitle",[t._v(t._s(t.observation.taxon.common_name))])],1)],1),n("v-img",{staticClass:"grey darken-4",attrs:{src:t.imageRoute(t.observation.image.url),contain:"",height:"200"},on:{click:function(e){t.zoomImage(t.imageRoute(t.observation.image.url))}}})],1),n("v-tabs",{attrs:{grow:""},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},t._l(t.tabs,(function(e){return n("v-tab",{key:e},[t._v(t._s(e)+" ")])})),1),t.observation.geojson?n("map-component",{ref:"leaflet",attrs:{height:"500px",geojson:[t.feature],"zoom-animation":!0,"max-zoom":12}}):t._e()],1):t._e()},vn=[],fn=n("4e67"),hn={components:{MapComponent:tn},computed:{componentView:function(){return"".concat(this.tabs[this.tabIndex],"Component")},feature:function(){var t=this.observation.geojson,e=this.observation,n=e.taxon.economic||e.taxon.sanitary;return t.features[0].properties.icon=e.taxon.economic===e.taxon.sanitary?"fa-bug":e.taxon.economic>e.taxon.sanitary?"fa-seedling":"fa-bug",t.features[0].properties.color=Ae[n],t}},data:function(){return{isLoading:!1,observation:void 0,tabs:["Distribucion","Metadatos"],tabIndex:0}},mounted:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z("get","/observations/".concat(t.$route.params.id));case 2:return t.observation=e.sent.data,e.next=5,z("get","/taxons/".concat(t.observation.taxon.parent));case 5:t.observation.taxon.parent=e.sent.data,t.isLoading=!1,t.$vuetify.goTo(0),t.$nextTick((function(){t.$refs.leaflet.zoomToPoints(16)}));case 9:case"end":return e.stop()}}),e)})))()},methods:{imageRoute:function(t){return"".concat(w).concat(t)},composeScientificName:function(t){return"".concat(t.taxon.parent.name," ").concat(t.taxon.name)},zoomImage:function(t){fn["a"].show(t)}}},bn=hn,gn=n("71a3"),xn=n("fe57"),yn=Object(et["a"])(bn,pn,vn,!1,null,null,null),_n=yn.exports;at()(yn,{VCard:ft["a"],VContainer:Bt["a"],VImg:bt["a"],VListItem:xt["a"],VListItemAvatar:_t["a"],VListItemContent:Ct["b"],VListItemSubtitle:Ct["c"],VListItemTitle:Ct["d"],VTab:gn["a"],VTabs:xn["a"]});var Cn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"ma-0 pa-0",attrs:{fluid:""}},[n("div",{staticClass:"header-identify"},[n("v-avatar",{staticClass:"species-circle rounded-circle",attrs:{color:"white",size:"280px"}},[n("v-img",{attrs:{src:t.imageRoute(t.predictions[0].taxon.image.formats.medium.url)}})],1)],1),n("v-row",{staticClass:"mt-15 no-gutters"},[n("transition",{attrs:{name:"fade"}},[t.show?n("v-col",{attrs:{align:"center"}},[n("h3",{staticClass:"text-h5 font-weight-bold primary--text mt-8"},[t._v("IDENTIFICASTE")]),n("h4",{staticClass:"text-h4 font-weight-light font-italic mt-8"},[t._v(t._s(t.predictions[0].taxon.parent.name)+" "+t._s(t.predictions[0].taxon.name))]),n("h4",{staticClass:"text-h5 font-weight-light"},[t._v("("+t._s(t.predictions[0].taxon.common_name)+")")]),n("span",{staticClass:"text-caption"},[t._v(t._s(t.predictions[0].confidence)+"% de coincidencia")])]):t._e()],1)],1),n("v-row",{staticClass:"mt-15 no-gutters"},[n("v-col",{attrs:{align:"center"}},[t.show?n("v-btn",{attrs:{to:{name:"Especie",params:{id:t.predictions[0].taxon.id}},color:"primary",rounded:"",depressed:"",large:""}},[t._v(" VER ESPECIE ")]):t._e()],1)],1)],1)},wn=[],jn={computed:{predictions:function(){return this.$store.getters[K.GetPredictions]}},data:function(){return{show:!1}},created:function(){this.$router.push({name:"Especie",params:{id:this.predictions[0].taxon.id}})},mounted:function(){var t=this;this.$nextTick((function(){t.show=!0}))},methods:{imageRoute:function(t){return"".concat(w).concat(t)}}},kn=jn,Vn=(n("2bde"),n("8212")),zn=Object(et["a"])(kn,Cn,wn,!1,null,null,null),Sn=zn.exports;at()(zn,{VAvatar:Vn["a"],VBtn:ot["a"],VCol:Ut["a"],VContainer:Bt["a"],VImg:bt["a"],VRow:Gt["a"]});var Ln=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"ma-0 pa-0 p-fixed",attrs:{fluid:""}},[a("div",{staticClass:"video-container"},[a("v-overlay",{attrs:{absolute:!0}}),a("video",{attrs:{autoplay:"",loop:"",muted:"",width:"100%"},domProps:{muted:!0}},[a("source",{attrs:{src:n("5177"),type:"video/mp4"}})])],1),a("div",{staticClass:"pa-8"},[a("h4",{staticClass:"text-h4 bold"},[t._v("Registrese")]),a("v-form",{ref:"form",staticClass:"text-center mt-8",attrs:{xs:"","lazy-validation":""}},[a("v-row",[a("v-col",{staticClass:"pt-0 pb-0"},[a("v-text-field",{attrs:{label:"Nombre",required:""},model:{value:t.user.last_name,callback:function(e){t.$set(t.user,"last_name",e)},expression:"user.last_name"}})],1),a("v-col",{staticClass:"pt-0 pb-0"},[a("v-text-field",{attrs:{label:"Apellido",required:""},model:{value:t.user.first_name,callback:function(e){t.$set(t.user,"first_name",e)},expression:"user.first_name"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pt-0 pb-0"},[a("v-text-field",{attrs:{label:"Correo",required:""},model:{value:t.user.identifier,callback:function(e){t.$set(t.user,"identifier",e)},expression:"user.identifier"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pt-0"},[a("v-text-field",{attrs:{label:"Contraseña","append-icon":t.hidePassword?"mdi-eye":"mdi-eye-off",type:t.hidePassword?"password":"text",required:""},on:{"click:append":function(){return t.hidePassword=!t.hidePassword},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1)],1),a("v-btn",{staticClass:"mt-12 text-center",attrs:{color:"success","max-width":"344",rounded:"",width:"100%",large:"",depressed:""},on:{click:t.login}},[t._v(" Registrarse ")])],1)],1)])},On=[],In={computed:{validateFields:function(){return this.user.password.length&&this.user.identifier.length}},data:function(){return{user:{name:"",last_name:"",password:"",email:""},hidePassword:!0}},methods:{login:function(){var t=this;this.validateFields&&this.$store.dispatch(d.LoginUser,this.user).then((function(){t.$router.push({name:"Index"})}))}}},$n=In,Tn=Object(et["a"])($n,Ln,On,!1,null,null,null),En=Tn.exports;at()(Tn,{VBtn:ot["a"],VCol:Ut["a"],VContainer:Bt["a"],VForm:Le["a"],VOverlay:Oe["a"],VRow:Gt["a"],VTextField:Ie["a"]});var Rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-0",staticStyle:{height:"100%"},attrs:{fluid:""}},[t.isLoading?n("v-dialog",{attrs:{color:"white",fullscreen:"","hide-overlay":""},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("v-container",{staticClass:"white",attrs:{"fill-height":"",fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{align:"center"}},[n("v-progress-circular",{attrs:{width:7,size:100,color:"primary mb-15",indeterminate:""}}),n("h3",{staticClass:"text-h4 mt-15 font-weight-light"},[t._v("Cargando especie")])],1)],1)],1)],1):[n("div",{staticClass:"species-header"},[n("v-img",{attrs:{height:"250px",src:t.imageRoute(t.taxon.image.url)},on:{click:function(e){t.zoomImage(t.imageRoute(t.taxon.image.url))}}}),n("div",{staticClass:"species-description ml-6"},[n("span",{staticClass:"text-h5 d-block font-italic"},[t._v(t._s(t.taxon.parent.name)+" "+t._s(t.taxon.name))]),n("span",{staticClass:"text-h6"},[n("b",[t._v(t._s(t.taxon.common_name))])])])],1),n("navigation-bar",{staticClass:"navbar-position ml-4 mr-4",attrs:{levels:t.menuImportance,taxon:t.taxon},model:{value:t.view,callback:function(e){t.view=e},expression:"view"}}),t.componentExist?n(t.componentView,{tag:"component",staticClass:"mt-2",attrs:{taxon:t.taxon,importance:t.menuImportance}}):t._e()]],2)},Pn=[],An=(n("c1f9"),n("2909")),Mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-5",attrs:{fluid:""}},[n("div",{staticClass:"d-inline-flex align-center mb-2"},[n("span",{staticClass:"text-h5 mr-2"},[t._v("Peligrosidad")]),n("v-chip",{attrs:{dark:"",color:t.importanceColor(),rounded:"",small:""}},[t._v(" "+t._s(t.importanceLevel())+" ")])],1),n("v-divider"),n("v-row",[n("v-col",{attrs:{cols:"auto"}},[n("h4",{staticClass:"text-h6"},[t._v(t._s(t.pathogenType)+" "+t._s(t.pathogen.type.toLowerCase())+" ("+t._s(t.pathogen.name)+")")])])],1),n("h5",{staticClass:"text-h6"},[t._v("Sintomas")]),n("v-row",t._l(t.symptoms,(function(e,a){return n("v-col",{key:a,staticClass:"pt-0",attrs:{cols:"auto"}},[n("ul",t._l(e,(function(e,a){return n("li",{key:a,staticClass:"text-body-1"},[t._v(" "+t._s(e)+" ")])})),0)])})),1),n("v-row",[n("v-col",[n("h6",{staticClass:"text-h6"},[t._v("Recomendaciones")]),n("span",{domProps:{innerHTML:t._s(t.pathogen.recomendation)}})])],1)],1)},Dn=[],Nn=(n("a4d3"),n("e01a"),function(t,e){var n=t.length;if(e>=n)return[t];if(0===n)return[];for(var a=n%e,i=(n-a)/e,o=[],r=0;r<=i;r++){var s=t.slice(r*e,r*e+e);s.length&&o.push(s)}return o}),Zn={props:{taxon:{type:Object,required:!0},importance:{type:Array,default:function(){return[]}}},computed:{symptoms:function(){return this.pathogen?Nn(this.pathogen.symptoms.map((function(t){return t.description})).sort(),6):[]},pathogenType:function(){return this.pathogen?"Enfermedad"===this.pathogen.type?"Vector de":"Toxica":""}},data:function(){return{pathogen:void 0}},mounted:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.taxon.pathogen){e.next=5;break}return e.next=3,O(t.taxon.pathogen.id);case 3:n=e.sent,t.pathogen=n.data;case 5:case"end":return e.stop()}}),e)})))()},methods:{importanceColor:function(){return this.importance.Sanitary?Ae[this.importance.Sanitary]:"primary"},importanceLevel:function(){return en[this.importance.Sanitary].toUpperCase()}}},Un=Zn,Bn=Object(et["a"])(Un,Mn,Dn,!1,null,null,null),Gn=Bn.exports;at()(Bn,{VChip:sn["a"],VCol:Ut["a"],VContainer:Bt["a"],VDivider:ht["a"],VRow:Gt["a"]});var qn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pa-0 ma-0 map-container"},[n("map-component",{ref:"leaflet",attrs:{geojson:t.geojson}})],1)},Fn=[],Hn={props:{taxon:{type:Object,required:!0}},components:{MapComponent:tn},data:function(){return{geojson:[]}},mounted:function(){var t=this;z("get","/observations",{params:{"taxon.id":this.taxon.id}}).then((function(e){t.geojson=e.data.map((function(t){return t.geojson})).filter((function(t){return t})),t.$nextTick((function(){t.$refs.leaflet.zoomToPoints()}))}))}},Jn=Hn,Xn=(n("a396"),Object(et["a"])(Jn,qn,Fn,!1,null,"68b8421d",null)),Wn=Xn.exports,Kn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pt-5",attrs:{fluid:""}},[n("span",{staticClass:"text-h5 ml-2"},[t._v("Avistamientos")]),n("v-divider"),n("line-chart",{attrs:{"chart-data":t.dataCollection,options:t.options}})],1)},Yn=[],Qn=function(t,e,n,a,i){return(t-e)*(i-a)/(n-e)+a},ta=function(t,e,n){return(t-e)*(t-n)<=0},ea=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],na=n("1fca"),aa=na["b"].reactiveProp,ia={extends:na["a"],mixins:[aa],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}},oa={components:{LineChart:ia},props:{taxon:{type:Object,required:!0}},data:function(){return{months:ea,count:[],temp:{},dataCollection:null,options:{scales:{yAxes:[{ticks:{stepSize:1}}]}}}},mounted:function(){var t=this;R(this.taxon.id).then((function(e){t.count=e.data.date_count,t.temp=e.data.temp,t.fillData(t.count)}))},methods:{fillData:function(t){var e=this;this.dataCollection={stepSize:1,labels:this.months,datasets:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(t);return n.map((function(a,i){return{label:a,fill:!1,borderWidth:3,data:t[a],borderColor:e.getRandomColor(i+1,n)}}))}()}},getRandomColor:function(t,e){return"hsl(".concat(50*t,", ").concat(Qn(t,0,e.length,40,180),"%, 30%)")}}},ra=oa,sa=Object(et["a"])(ra,Kn,Yn,!1,null,null,null),ca=sa.exports;at()(sa,{VContainer:Bt["a"],VDivider:ht["a"]});var la=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-5",attrs:{fluid:""}},[n("div",{staticClass:"mb-2"},[n("span",{staticClass:"text-h5"},[t._v("Habitat")])]),n("v-divider"),n("v-row",[n("v-col",{staticClass:"subtitle-1"},[n("v-icon",{attrs:{small:""}},[t._v("fa-cloud-sun")]),t._v(" Clima"),n("br"),n("span",{staticClass:"text-h6 text-capitalize"},[t._v(t._s(t.weatherPred))])],1),n("v-divider",{attrs:{vertical:""}}),n("v-col",{staticClass:"subtitle-1"},[n("v-icon",{attrs:{small:""}},[t._v("fa-thermometer-three-quarters")]),t._v(" Temp."),n("br"),n("span",{staticClass:"text-h6"},[t._v(t._s(Math.trunc(t.weather.temp.min))+" / "+t._s(Math.trunc(t.weather.temp.max))+"°C ")])],1),n("v-divider",{attrs:{vertical:""}}),n("v-col",{staticClass:"subtitle-1"},[n("v-icon",{attrs:{small:""}},[t._v("fa-tint")]),t._v(" Humedad"),n("br"),n("span",{staticClass:"text-h6"},[t._v(t._s(Math.trunc(t.weather.humidity.min))+" / "+t._s(Math.trunc(t.weather.humidity.max))+"% ")])],1)],1),n("v-row",[n("v-col",{staticClass:"pt-0",attrs:{cols:"auto"}},[n("v-chip-group",t._l([].concat(t.taxon.zone_types,t.taxon.habitats),(function(e,a){return n("v-dialog",{key:a,attrs:{width:"100%","content-class":"dialog-information",origin:"bottom center",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on,o=a.attrs;return[n("v-chip",t._g(t._b({attrs:{color:"primary",rounded:""}},"v-chip",o,!1),i),[t._v(" "+t._s(e.name)+" ")])]}}],null,!0),model:{value:t.dialog[a],callback:function(e){t.$set(t.dialog,a,e)},expression:"dialog[index]"}},[n("v-card",[n("v-card-title",{staticClass:"text-capitalize"},[t._v(" "+t._s(e.name)+" ")]),n("v-card-text",[t._v(" "+t._s(e.description)+" ")])],1)],1)})),1)],1)],1),n("p",{domProps:{innerHTML:t._s(t.taxon.habitat_description)}})],1)},ua=[],da={calido:18,templado:12,frio:0,polar:-30},ma={props:{taxon:{type:Object,required:!0}},computed:{weatherPred:function(){return this.weather?this.getWeather(this.weather.temp.max-(this.weather.temp.max-this.weather.temp.min)/2):"n/a"}},data:function(){return{time:void 0,weather:void 0,dialog:{}}},mounted:function(){var t=this;R(this.taxon.id).then((function(e){t.time=e.data.time,t.weather=e.data.weather}))},methods:{getWeather:function(t){return Object.keys(da).find((function(e){return t>da[e]}))}}},pa=ma,va=Object(et["a"])(pa,la,ua,!1,null,null,null),fa=va.exports;at()(va,{VCard:ft["a"],VCardText:rn["a"],VCardTitle:rn["b"],VChip:sn["a"],VChipGroup:cn["a"],VCol:Ut["a"],VContainer:Bt["a"],VDialog:te["a"],VDivider:ht["a"],VIcon:rt["a"],VRow:Gt["a"]});var ha=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-5",attrs:{fluid:""}},[n("div",{staticClass:"d-inline-flex align-center mb-2"},[n("span",{staticClass:"text-h5 mr-2"},[t._v("Comportamiento")]),n("v-dialog",{attrs:{width:"100%","content-class":"dialog-information",origin:"bottom center",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[n("v-chip",t._g(t._b({staticClass:"text-uppercase",attrs:{dark:"",color:"primary",rounded:"",small:""}},"v-chip",i,!1),a),[t._v(" "+t._s(t.taxon.feeding.name)+" ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"text-capitalize"},[t._v(" "+t._s(t.taxon.feeding.name)+" ")]),n("v-card-text",[t._v(" "+t._s(t.taxon.feeding.description)+" ")])],1)],1)],1),n("v-divider"),n("v-row",{staticClass:"mb-4"},[n("v-col",{staticClass:"subtitle-1"},[n("v-icon",{attrs:{small:""}},[t._v("fa-moon")]),t._v("Actividad registrada"),n("br"),n("span",{staticClass:"text-h6 text-capitalize"},[t._v(t._s(t.dayTimeString))])],1),n("v-divider",{attrs:{vertical:""}}),n("v-col",{staticClass:"subtitle-1"},[n("v-icon",{attrs:{small:""}},[t._v("fa-clock")]),t._v(" Horario mas avistada"),n("br"),n("span",{staticClass:"text-h6"},[t._v(t._s(t.time.max)+"hs")])],1)],1),t.biologicalRelationships.length?[n("h5",{staticClass:"text-h6"},[t._v("Relaciones biologicas")]),n("v-row",[n("v-col",{staticClass:"pt-0",attrs:{cols:"auto"}},[n("ul",t._l(t.biologicalRelationships,(function(e,a){return n("li",{key:a,staticClass:"text-body-1"},[n("span",{staticClass:"text-capitalize"},[t._v(t._s(e.biological_relationship_type.name))]),t._v(" de "+t._s(e.objective.common_name)+" ")])})),0)])],1)]:t._e()],2)},ba=[],ga={props:{taxon:{type:Object,required:!0}},computed:{dayTime:function(){return!!this.time&&(ta(this.time.min,6,19)||ta(this.time.max,6,19))},nightTime:function(){return!!this.time&&(ta(this.time.max,20,23)||ta(this.time.min,0,5))},dayTimeString:function(){return this.dayTime&&this.nightTime?"Diurna / Nocturna":this.dayTime?"Diurna":"Nocturna"}},data:function(){return{time:void 0,biologicalRelationships:[],dialog:!1}},mounted:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return R(t.taxon.id).then((function(e){t.time=e.data.time})),e.next=3,z("get","/biological-relationships",{params:{"subject.id":t.taxon.id}});case 3:t.biologicalRelationships=e.sent.data;case 4:case"end":return e.stop()}}),e)})))()}},xa=ga,ya=(n("e43d"),Object(et["a"])(xa,ha,ba,!1,null,null,null)),_a=ya.exports;at()(ya,{VCard:ft["a"],VCardText:rn["a"],VCardTitle:rn["b"],VChip:sn["a"],VCol:Ut["a"],VContainer:Bt["a"],VDialog:te["a"],VDivider:ht["a"],VIcon:rt["a"],VRow:Gt["a"]});var Ca=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-5",attrs:{fluid:""}},[n("div",{staticClass:"d-inline-flex align-center mb-2"},[n("span",{staticClass:"text-h5 mr-2"},[t._v("Económica")]),n("v-chip",{attrs:{dark:"",color:t.importanceColor(),rounded:"",small:""}},[t._v(" "+t._s(t.importanceLevel())+" ")])],1),n("v-divider"),n("h5",{staticClass:"text-h6 mt-4"},[t._v("Cultivos afectados")]),n("v-row",[n("v-col",{staticClass:"pt-0",attrs:{cols:"auto"}},[n("v-chip-group",t._l(t.taxon.hosts,(function(e,a){return n("v-dialog",{key:a,attrs:{width:"100%","content-class":"dialog-information",origin:"bottom center",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(i){var o=i.on,r=i.attrs;return[n("v-chip",t._g(t._b({key:a,attrs:{color:"primary",rounded:""}},"v-chip",r,!1),o),[t._v(" "+t._s(e.name)+" ")])]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"text-capitalize"},[t._v(" "+t._s(e.name)+" ")]),n("v-card-text",[t._v(" "+t._s(e.description)+" ")])],1)],1)})),1)],1)],1),n("h5",{staticClass:"text-h6"},[t._v("Ataca principalmente")]),n("v-row",[n("v-col",{staticClass:"pt-0",attrs:{cols:"auto"}},[n("ul",t._l(t.taxon.plant_parts,(function(e,a){return n("li",{key:a,staticClass:"text-body-1"},[t._v(" "+t._s(e.name)+" ")])})),0)])],1),n("v-row",[n("v-col",[n("h6",{staticClass:"text-h6"},[t._v("Recomendaciones")]),n("ul",t._l(t.taxon.economic_recomendations,(function(e,a){return n("li",{key:a,staticClass:"text-body-1"},[t._v(" "+t._s(e.description)+" ")])})),0)])],1)],1)},wa=[],ja={props:{taxon:{type:Object,required:!0},importance:{type:Array,default:function(){return[]}}},methods:{importanceColor:function(){return this.importance.Economic?Ae[this.importance.Economic]:"primary"},importanceLevel:function(){return en[this.importance.Economic].toUpperCase()}}},ka=ja,Va=Object(et["a"])(ka,Ca,wa,!1,null,null,null),za=Va.exports;at()(Va,{VCard:ft["a"],VCardText:rn["a"],VCardTitle:rn["b"],VChip:sn["a"],VChipGroup:cn["a"],VCol:Ut["a"],VContainer:Bt["a"],VDialog:te["a"],VDivider:ht["a"],VRow:Gt["a"]});var Sa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-row justify-space-around navbar-taxon-view"},[t._l(t.buttons,(function(e,a){return[n("v-btn",{key:a,class:{selected:t.isSelected(e)},style:t.buttonStyle(t.noImportance(e)),attrs:{fab:"",dark:"",width:50,height:50,disabled:t.noImportance(e),color:t.setColor(e)},on:{click:function(n){return t.selectView(e)}}},[n("v-icon",{attrs:{dark:""}},[t._v(t._s(e.icon))])],1)]}))],2)},La=[],Oa={props:{levels:{type:Object,default:function(){}},value:{type:String,default:void 0}},computed:{selectedView:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},data:function(){return{classLevel:["black","yellow","orange","red"],buttons:[{icon:"fa-bug",type:"Habit"},{icon:"fa-seedling",type:"Economic",importance_group:"Economic"},{icon:"fa-heartbeat",type:"Sanitary",importance_group:"Sanitary"},{icon:"fa-cloud-sun",type:"Habitat"},{icon:"fa-map-marker-alt",type:"Distribution"},{icon:"fa-chart-bar",type:"Statistics"}]}},methods:{setColor:function(t){return"".concat(t.importance_group?this.classLevel[this.levels[t.type]]:"primary"," ").concat(t.type===this.value?"lighten-2":"")},isSelected:function(t){return this.value===t.type},selectView:function(t){this.$emit("input",t.type)},buttonStyle:function(t){return{border:"4px solid white !important",backgroundColor:t?"rgba(0, 0, 0, 1) !important":void 0}},noImportance:function(t){return!!t.importance_group&&!this.levels[t.type]}}},Ia=Oa,$a=(n("21de"),Object(et["a"])(Ia,Sa,La,!1,null,null,null)),Ta=$a.exports;at()($a,{VBtn:ot["a"],VIcon:rt["a"]});var Ea={components:{NavigationBar:Ta,DistributionComponent:Wn,StatisticsComponent:ca,SanitaryComponent:Gn,HabitatComponent:fa,HabitComponent:_a,EconomicComponent:za},computed:{menuImportance:function(){var t=this;return Object.fromEntries(this.importanceGroups.map((function(e){return[e,t.taxon[e.toLowerCase()]||0]})))},componentExist:function(){return this.$options.components["".concat(this.view,"Component")]},componentView:function(){return"".concat(this.view,"Component")}},data:function(){return{taxon:{},isLoading:!0,importanceGroups:["Habit","Economic","Sanitary"],view:void 0,imgs:"",visible:!1,index:0}},mounted:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:z("get","/taxons/".concat(t.$route.params.id)).then((function(e){t.taxon=e.data,t.isLoading=!1,t.$vuetify.goTo(0),t.view=Object.keys(t.menuImportance)[Object.values(t.menuImportance).indexOf(Math.max.apply(Math,Object(An["a"])(Object.values(t.menuImportance))))]}));case 1:case"end":return e.stop()}}),e)})))()},methods:{imageRoute:function(t){return"".concat(w).concat(t)},composeScientificName:function(t){return"".concat(t.parent.name," ").concat(t.taxon.name)},setView:function(t){this.view=t},zoomImage:function(t){fn["a"].show(t)}}},Ra=Ea,Pa=(n("e53b"),Object(et["a"])(Ra,Rn,Pn,!1,null,null,null)),Aa=Pa.exports;at()(Pa,{VCol:Ut["a"],VContainer:Bt["a"],VDialog:te["a"],VImg:bt["a"],VProgressCircular:ee["a"],VRow:Gt["a"]});var Ma=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[n("v-app-bar",{attrs:{rounded:"false",color:"transparent",flat:""}},[n("v-toolbar-title",[t._v("Zonas")]),n("v-spacer"),n("v-btn",{attrs:{icon:""}},[n("v-icon",[t._v("mdi-magnify")])],1)],1),n("v-list",{attrs:{"two-line":""}},[t._l(t.zones,(function(e){return[n("v-list-item",{key:e.id,attrs:{to:{name:"Zona",params:{id:e.id}}}},[n("v-list-item-avatar",[n("v-img",{attrs:{src:t.zoneType[e.type].image}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:t._s(e.name)}}),n("v-list-item-subtitle",{domProps:{textContent:t._s(t.zoneType[e.type].label)}})],1),n("v-list-item-action",[n("v-list-item-action-text",[t._v(t._s(t.displayDate(e.created_at)))]),n("v-icon",{attrs:{color:e.alerts.length?"red":"",small:""}},[t._v("fa-bell")])],1)],1),n("v-divider",{key:e.id+"-divider"})]}))],2),n("v-fab-transition",[n("v-btn",{staticStyle:{bottom:"80px"},attrs:{fab:"",dark:"",fixed:"",bottom:"",right:"",color:"primary",to:{name:"NewZone"}}},[n("v-icon",[t._v("mdi-plus")])],1)],1)],1)},Da=[],Na=n("d862"),Za=n.n(Na),Ua=n("8861"),Ba=n.n(Ua),Ga={computed:{zones:function(){return this.$store.getters[K.GetZones]}},data:function(){return{zoneType:{sanitary:{label:"Urbana",image:Za.a},economic:{label:"Rural",image:Ba.a}}}},beforeCreate:function(){this.$store.dispatch(d.LoadZones)},methods:{displayDate:function(t){var e=Object.values(this.createdAgo(t)),n=["dias","horas","minutos","segundos"],a=e.findIndex((function(t){return t>0}));return"Hace ".concat(e[a]," ").concat(n[a])},createdAgo:Pe}},qa=Ga,Fa=n("0789"),Ha=Object(et["a"])(qa,Ma,Da,!1,null,null,null),Ja=Ha.exports;at()(Ha,{VAppBar:pt["a"],VBtn:ot["a"],VContainer:Bt["a"],VDivider:ht["a"],VFabTransition:Fa["c"],VIcon:rt["a"],VImg:bt["a"],VList:gt["a"],VListItem:xt["a"],VListItemAction:yt["a"],VListItemActionText:Ct["a"],VListItemAvatar:_t["a"],VListItemContent:Ct["b"],VListItemSubtitle:Ct["c"],VListItemTitle:Ct["d"],VSpacer:jt["a"],VToolbarTitle:kt["a"]});var Xa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-0",staticStyle:{height:"100%"},attrs:{fluid:""}},[n("v-card",{staticClass:"d-flex align-center",attrs:{height:"130px",flat:"",tile:"",color:"primary"}},[n("v-card-text",{staticClass:"pl-6 pt-0"},[n("span",{staticClass:"text-h5 white--text font-weight-medium"},[t._v(t._s(t.zone.name))]),n("br"),n("span",{staticClass:"text-subtitle1 font-weight-light white--text"},[n("b",[t._v(t._s(t.zoneType[t.zone.type].label)+" ("+t._s(t.zoneType[t.zone.type].type)+")")])])])],1),n("nav-bar",{staticClass:"navbar-position",attrs:{observations:t.observations,alerts:t.zone.alerts},model:{value:t.view,callback:function(e){t.view=e},expression:"view"}}),t.componentExist?n(t.componentView,{tag:"component",staticClass:"mt-2",attrs:{observations:t.filterObservations,zone:t.zone,distance:t.zone.distance},on:{onUpdate:t.loadObservations}}):t._e(),n("v-fab-transition",[n("v-btn",{directives:[{name:"scroll",rawName:"v-scroll",value:t.onScroll,expression:"onScroll"},{name:"show",rawName:"v-show",value:t.topButton,expression:"topButton"}],staticStyle:{bottom:"80px"},attrs:{fab:"",dark:"",fixed:"",bottom:"",right:"",color:"primary"},on:{click:t.toTop}},[n("v-icon",[t._v("fa-angle-up")])],1)],1),n("v-dialog",{attrs:{color:"white",fullscreen:"","hide-overlay":""},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("v-container",{staticClass:"white",attrs:{"fill-height":"",fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{align:"center"}},[n("v-progress-circular",{attrs:{width:7,size:100,color:"primary mb-15",indeterminate:""}}),n("h3",{staticClass:"text-h4 mt-15 font-weight-light"},[t._v("Refrescando zona")])],1)],1)],1)],1)],1)},Wa=[],Ka=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-row justify-space-between navbar-zone-view pl-6 pr-2"},t._l(t.buttons,(function(e,a){return n("div",{key:a,staticClass:"justify-space-around"},[t._l(e,(function(e,a){return[n("v-btn",{key:a,staticClass:"mr-4",class:{"selected lighten-2":t.isSelected(e)},style:t.buttonStyle(t.needRecords(e)),attrs:{fab:"",dark:"",width:50,height:50,disabled:t.needRecords(e),color:"primary"},on:{click:function(n){return t.selectView(e)}}},[n("v-icon",{attrs:{dark:""}},[t._v(t._s(e.icon))])],1)]}))],2)})),0)},Ya=[],Qa={props:{levels:{type:Object,default:function(){}},value:{type:String,default:void 0},observations:{type:Array,required:!0},alerts:{type:Array,required:!0}},computed:{selectedView:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},data:function(){return{classLevel:["black","yellow","orange","red"],buttons:[[{icon:"fa-history",type:"Timeline",needRecords:"observations"},{icon:"fa-bug",type:"Species",needRecords:"observations"},{icon:"fa-map-marker-alt",type:"Distribution"}],[{icon:"fa-bell",type:"Notifications",needRecords:"alerts"},{icon:"fa-cog",type:"Settings"}]]}},methods:{isSelected:function(t){return this.value===t.type},selectView:function(t){this.$emit("input",t.type)},buttonStyle:function(t){return{border:"4px solid white !important",backgroundColor:t?"rgba(0, 0, 0, 1) !important":void 0}},needRecords:function(t){return!!t.needRecords&&0===this[t.needRecords].length}}},ti=Qa,ei=(n("a85f"),Object(et["a"])(ti,Ka,Ya,!1,null,null,null)),ni=ei.exports;at()(ei,{VBtn:ot["a"],VIcon:rt["a"]});var ai=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pl-0 pr-8"},[n("v-timeline",{attrs:{dense:"",clipped:""}},[n("v-slide-x-transition",{attrs:{group:""}},t._l(t.observations,(function(e){return n("v-timeline-item",{key:e.id,staticClass:"mb-4",attrs:{color:t.getImportanceColor(e.taxon),large:"","fill-dot":""},scopedSlots:t._u([{key:"icon",fn:function(){return[n("v-avatar",{attrs:{size:"46"}},[n("img",{attrs:{src:t.imageRoute(e.image.formats.thumbnail.url)},on:{click:function(n){return t.loadObservation(e.id)}}})])]},proxy:!0}],null,!0)},[n("v-row",{attrs:{justify:"space-between"}},[n("v-col",{attrs:{cols:"7"}},[n("span",[t._v(t._s(e.taxon.common_name))]),n("div",{staticClass:"caption"},[t._v(" "+t._s(e.taxon.parent.name)+" "+t._s(e.taxon.name)+" ")])]),n("v-col",{staticClass:"text-right",attrs:{cols:"5"}},[n("span",{staticClass:"text-caption"},[t._v(t._s(t.displayDate(e.date)))]),n("br"),n("v-chip",{staticClass:"white--text text-uppercase",attrs:{color:t.getImportanceColor(e.taxon),label:"",rounded:"","x-small":""}},[t._v(" "+t._s(t.getImportanceLevel(e.taxon))+" ")])],1)],1)],1)})),1)],1)],1)},ii=[],oi={props:{observations:{type:Array,required:!0}},methods:{displayDate:function(t){var e=Object.values(Pe(t)),n=["dias","horas","minutos","segundos"],a=e.findIndex((function(t){return t>0}));return"Hace ".concat(e[a]," ").concat(n[a])},getImportanceColor:function(t){var e=t.economic||t.sanitary;return Ae[e]},getImportanceLevel:function(t){var e=t.economic||t.sanitary;return en[e]},loadObservation:function(t){this.$router.push({name:"Observacion",params:{id:t}})},imageRoute:function(t){return"".concat(w).concat(t)}}},ri=oi,si=n("8414"),ci=n("1e06"),li=Object(et["a"])(ri,ai,ii,!1,null,null,null),ui=li.exports;at()(li,{VAvatar:Vn["a"],VChip:sn["a"],VCol:Ut["a"],VContainer:Bt["a"],VRow:Gt["a"],VSlideXTransition:Fa["f"],VTimeline:si["a"],VTimelineItem:ci["a"]});var di=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pa-0 ma-0 map-container"},[n("map-component",{ref:"leaflet",attrs:{"zoom-animation":!1,geojson:t.geojson}})],1)},mi=[],pi={components:{MapComponent:tn},props:{observations:{type:Array,default:function(){return[]}},zone:{type:Object,required:!0}},computed:{geojson:function(){var t=this,e=JSON.parse(JSON.stringify(this.zone.geojson)),n=JSON.parse(JSON.stringify(this.zone.geojson));n.properties.radius=1e3*this.zone.distance,e.properties.icon="economic"===this.zone.type?"fa-seedling":"fa-home",e.properties.color="blue";var a=this.observations.filter((function(t){return t.geojson})).map((function(e){var n=e.taxon.economic||e.taxon.sanitary;return e.geojson.features[0].properties.icon="fa-bug",e.geojson.features[0].properties.color=Ae[n],e.geojson.features[0].properties.popupContent='\n        <a href="/taxons/'.concat(e.taxon.id,'" class="v-list-item v-list-item--link theme--light pl-0">\n          <div class="v-avatar v-list-item__avatar grey" style="height: 40px; min-width: 40px; width: 40px;">\n          <div class="v-image v-responsive theme--light">\n            <div class="v-responsive__sizer" style="padding-bottom: 55.5102%;"></div>\n            <div class="v-image__image v-image__image--cover" style="background-image: url(&quot;').concat(t.imageRoute(e.taxon.image.formats.thumbnail.url),'&quot;); \n              background-position: center center;"></div><div class="v-responsive__content" style="width: 245px;"></div>\n            </div>\n          </div>\n          <div>\n            <div class="v-list-item__title headline">').concat(e.taxon.common_name,'</div>\n            <div class="v-list-item__subtitle">').concat(e.taxon.parent.name," ").concat(e.taxon.name,"</div>\n          </div>\n        </a>"),e})).map((function(t){return t.geojson}));return[].concat(a,[e,n])}},mounted:function(){var t=this;this.$nextTick((function(){t.$refs.leaflet.zoomToPoints(null)}))},methods:{imageRoute:function(t){return"".concat(w).concat(t)}}},vi=pi,fi=(n("c654"),Object(et["a"])(vi,di,mi,!1,null,"1cf84c10",null)),hi=fi.exports,bi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[n("v-list",{attrs:{"two-line":""}},[t._l(t.speciesList,(function(e){return[n("v-list-item",{key:e.id,attrs:{to:{name:"Especie",params:{id:e.taxon.id}}}},[n("v-list-item-avatar",[n("v-img",{attrs:{src:t.imageRoute(e.taxon.image.formats.thumbnail.url)}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:t._s(t.composeScientificName(e))}}),n("v-list-item-subtitle",{domProps:{textContent:t._s(e.taxon.common_name)}})],1),n("v-list-item-action",[n("v-list-item-action-text",[t._v(t._s(e.count)+" avistada")]),e.taxon.sanitary?n("v-icon",{attrs:{small:"",color:t.importanceColor[e.taxon.sanitary]}},[t._v("fa-heartbeat")]):t._e(),e.taxon.economic?n("v-icon",{attrs:{small:"",color:t.importanceColor[e.taxon.economic]}},[t._v("fa-seedling")]):t._e()],1)],1),n("v-divider",{key:e.taxon.id+"-divider"})]}))],2)],1)},gi=[],xi=(n("13d5"),{props:{observations:{type:Array,required:!0}},computed:{speciesList:function(){return Object.values(this.observations.map((function(t){return t.taxon})).reduce((function(t,e){var n=e.id;return t[n]?t[n].count++:t[n]={taxon:e,count:1},t}),{}))},importanceColor:function(){return Ae}},methods:{composeScientificName:function(t){return"".concat(t.taxon.parent.name," ").concat(t.taxon.name)},imageRoute:function(t){return"".concat(w).concat(t)}}}),yi=xi,_i=Object(et["a"])(yi,bi,gi,!1,null,null,null),Ci=_i.exports;at()(_i,{VContainer:Bt["a"],VDivider:ht["a"],VIcon:rt["a"],VImg:bt["a"],VList:gt["a"],VListItem:xt["a"],VListItemAction:yt["a"],VListItemActionText:Ct["a"],VListItemAvatar:_t["a"],VListItemContent:Ct["b"],VListItemSubtitle:Ct["c"],VListItemTitle:Ct["d"]});var wi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pl-6 pr-8"},[n("v-row",[n("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[n("v-text-field",{attrs:{rules:t.rules,counter:"25",hint:"Escriba un nombre para la zona",label:"Nombre"},model:{value:t.zoneEdit.name,callback:function(e){t.$set(t.zoneEdit,"name",e)},expression:"zoneEdit.name"}})],1)],1),t.isEconomicZone?n("v-row",[n("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[n("v-autocomplete",{attrs:{items:t.plants,"item-text":"name","item-value":"id",color:"primary",chips:"",clearable:"","deletable-chips":"",multiple:"",label:"Cultivo"},model:{value:t.zoneEdit.plants,callback:function(e){t.$set(t.zoneEdit,"plants",e)},expression:"zoneEdit.plants"}})],1)],1):t._e(),n("v-row",[n("v-col",{staticClass:"pt-12"},[n("v-slider",{attrs:{color:"blue","thumb-color":"blue","thumb-label":"always","track-color":"primary","persistent-hint":"",label:"Distancia (km)",max:"100",min:"1"},model:{value:t.zoneEdit.distance,callback:function(e){t.$set(t.zoneEdit,"distance",e)},expression:"zoneEdit.distance"}})],1)],1),n("v-row",[n("v-col",{staticClass:"pt-0"},[n("v-checkbox",{attrs:{label:"Recibir notificaciones"},model:{value:t.zoneEdit.notifications,callback:function(e){t.$set(t.zoneEdit,"notifications",e)},expression:"zoneEdit.notifications"}})],1)],1),n("v-row",{staticClass:"mt-10"},[n("v-col",{staticClass:"pt-0"},[n("v-btn",{attrs:{color:"primary",rounded:"",width:"100%",disabled:!t.zoneEdit.name,large:"",depressed:""},on:{click:t.updateZone}},[t._v(" Guardar ")])],1)],1)],1)},ji=[],ki={props:{observations:{type:Array,required:!0},zone:{type:Object,required:!0}},computed:{isEconomicZone:function(){return"economic"===this.zone.type}},data:function(){return{zoneEdit:{name:this.zone.name,distance:this.zone.distance,plants:this.zone.plants,notifications:this.zone.notifications},rules:[function(t){return t.length<=32||"Maximo 32 caracteres"}],plants:[]}},created:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z("get","/plants");case 2:t.plants=e.sent.data;case 3:case"end":return e.stop()}}),e)})))()},methods:{updateZone:function(){var t=this;this.$store.dispatch(d.UpdateZone,{id:this.zone.id,zone:this.zoneEdit}).then((function(e){t.$emit("onUpdate",e)}))}}},Vi=ki,zi=n("c6a6"),Si=n("ac7c"),Li=Object(et["a"])(Vi,wi,ji,!1,null,null,null),Oi=Li.exports;at()(Li,{VAutocomplete:zi["a"],VBtn:ot["a"],VCheckbox:Si["a"],VCol:Ut["a"],VContainer:Bt["a"],VRow:Gt["a"],VSlider:un["a"],VTextField:Ie["a"]});var Ii=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pl-0 pr-0 pt-0"},[n("v-list",{staticClass:"mt-0",attrs:{"two-line":""}},[t._l(t.notifications,(function(e){return[n("v-list-item",{key:e.id,class:{"green lighten-5":!e.seen},attrs:{to:{name:"Observacion",params:{id:e.observation.id}}}},[n("v-list-item-avatar",[n("v-img",{attrs:{src:t.imageRoute(e.observation.image.formats.thumbnail.url)}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:t._s(t.composeScientificName(e.observation))}}),n("v-list-item-subtitle",[t._v(t._s(e.observation.taxon.common_name))]),n("v-list-item-subtitle",[t._v(t._s(t.getDistanceFromZone(e.observation.geojson))+" Kms de la ubicación")])],1),n("v-list-item-action",[n("v-list-item-action-text",[t._v(t._s(t.displayDate(e.created_at)))]),e.observation.taxon.sanitary?n("v-icon",{attrs:{small:"",color:t.importanceColor[e.observation.taxon.sanitary]}},[t._v("fa-heartbeat")]):t._e(),e.observation.taxon.economic?n("v-icon",{attrs:{small:"",color:t.importanceColor[e.observation.taxon.economic]}},[t._v("fa-seedling")]):t._e()],1)],1),n("v-divider",{key:e.observation.taxon.id+"-divider"})]}))],2)],1)},$i=[],Ti=(n("b680"),n("595b")),Ei={props:{zone:{type:Object,required:!0}},computed:{importanceColor:function(){return Ae}},data:function(){return{notifications:[]}},mounted:function(){var t=this;T({params:{"zone.id":this.zone.id}}).then((function(e){t.notifications=e.data}))},methods:{composeScientificName:function(t){return"".concat(t.taxon.parent.name," ").concat(t.taxon.name)},imageRoute:function(t){return"".concat(w).concat(t)},displayDate:function(t){var e=Object.values(Pe(t)),n=["dia","hora","minuto","segundo"],a=e.findIndex((function(t){return t>0}));return"Hace ".concat(e[a]," ").concat(n[a]).concat(1===e[a]?"":"s")},getDistanceFromZone:function(t){var e=Ti["point"](this.zone.geojson.geometry.coordinates),n=Ti["point"](t.features[0].geometry.coordinates);return Ti["distance"](e,n).toFixed(2)}}},Ri=Ei,Pi=Object(et["a"])(Ri,Ii,$i,!1,null,null,null),Ai=Pi.exports;at()(Pi,{VContainer:Bt["a"],VDivider:ht["a"],VIcon:rt["a"],VImg:bt["a"],VList:gt["a"],VListItem:xt["a"],VListItemAction:yt["a"],VListItemActionText:Ct["a"],VListItemAvatar:_t["a"],VListItemContent:Ct["b"],VListItemSubtitle:Ct["c"],VListItemTitle:Ct["d"]});var Mi={components:{NavBar:ni,DistributionComponent:hi,NotificationsComponent:Ai,TimelineComponent:ui,SettingsComponent:Oi,SpeciesComponent:Ci},computed:{componentExist:function(){return this.$options.components["".concat(this.view,"Component")]},componentView:function(){return"".concat(this.view,"Component")},zone:function(){return this.$store.getters[K.GetZoneById](this.$route.params.id)},filterObservations:function(){var t=this;return this.observations.filter((function(e){return e.taxon[t.zone.type]}))}},data:function(){return{isLoading:!1,view:"Distribution",topButton:!1,zoneType:{sanitary:{label:"Urbana",type:"Sanitaria"},economic:{label:"Rural",type:"Económica"}},observations:[]}},created:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loadObservations();case 1:case"end":return e.stop()}}),e)})))()},methods:{imageRoute:function(t){return"".concat(w).concat(t)},setView:function(t){this.view=t},onScroll:function(t){if("undefined"!==typeof window){var e=window.pageYOffset||t.target.scrollTop||0;this.topButton=e>20}},toTop:function(){this.$vuetify.goTo(0)},loadObservations:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,z("get","/observations",{params:{lat:t.zone.geojson.geometry.coordinates[1],long:t.zone.geojson.geometry.coordinates[0],distance:t.zone.distance,_sort:"id:DESC"}});case 3:t.observations=e.sent.data,t.isLoading=!1;case 5:case"end":return e.stop()}}),e)})))()}}},Di=Mi,Ni=n("269a"),Zi=n.n(Ni),Ui=n("f977"),Bi=Object(et["a"])(Di,Xa,Wa,!1,null,null,null),Gi=Bi.exports;at()(Bi,{VBtn:ot["a"],VCard:ft["a"],VCardText:rn["a"],VCol:Ut["a"],VContainer:Bt["a"],VDialog:te["a"],VFabTransition:Fa["c"],VIcon:rt["a"],VProgressCircular:ee["a"],VRow:Gt["a"]}),Zi()(Bi,{Scroll:Ui["b"]});var qi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"map-container pa-0"},[n("v-stepper",{staticClass:"elevation-0 pa-0",attrs:{value:t.step}},[n("v-stepper-header",{staticClass:"elevation-0"},[t._l(t.steps,(function(e){return[n("v-stepper-step",{key:e+"-step",attrs:{complete:t.step>e,step:e}},[t._v(" Paso "+t._s(e)+" ")]),e!==t.steps?n("v-divider",{key:e}):t._e()]}))],2),n("v-divider"),n("v-stepper-items",{staticClass:"pa-0"},[n("v-stepper-content",{staticClass:"pt-2",attrs:{step:"1"}},[n("zone-type",{attrs:{"zone-types":t.zoneType},on:{onSelect:function(e){t.step++}},model:{value:t.zone,callback:function(e){t.zone=e},expression:"zone"}})],1),n("v-stepper-content",{staticClass:"pt-0",attrs:{step:"2"}},[2===t.step?n("zone-data",{attrs:{"zone-types":t.zoneType},on:{next:function(e){t.step++}},model:{value:t.zone,callback:function(e){t.zone=e},expression:"zone"}}):t._e()],1),n("v-stepper-content",{staticClass:"pa-0 pt-0",attrs:{step:"3"}},[3===t.step?n("zone-map",{on:{onAccept:t.createZone},model:{value:t.zone,callback:function(e){t.zone=e},expression:"zone"}}):t._e()],1)],1)],1),n("v-dialog",{attrs:{color:"white",fullscreen:"","hide-overlay":""},model:{value:t.isSaving,callback:function(e){t.isSaving=e},expression:"isSaving"}},[n("v-container",{staticClass:"white",attrs:{"fill-height":"",fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{align:"center"}},[n("v-progress-circular",{attrs:{width:7,size:100,color:"primary mb-15",indeterminate:""}}),n("h3",{staticClass:"text-h4 mt-15 font-weight-light"},[t._v("Creando zona")])],1)],1)],1)],1)],1)},Fi=[],Hi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticStyle:{height:"80vh","min-height":"80vh"}},[n("v-row",{staticClass:"mt-4 mb-8",attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"4"}},[n("v-img",{attrs:{src:t.zoneTypes[t.zone.type].image}})],1),n("v-col",{attrs:{cols:"8"}},[n("span",{staticClass:"text-h5"},[t._v("Zona de interés")]),n("br"),n("span",{staticClass:"text-h5 font-weight-bold"},[t._v(t._s(t.zoneTypes[t.zone.type].label))])])],1),n("v-row",[n("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[n("v-text-field",{attrs:{rules:t.rules,counter:"25",hint:"Escriba un nombre para la zona",label:"Nombre"},model:{value:t.zone.name,callback:function(e){t.$set(t.zone,"name",e)},expression:"zone.name"}})],1)],1),t.isEconomicZone?n("v-row",[n("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[n("v-autocomplete",{attrs:{items:t.plants,"item-text":"name","item-value":"id",color:"primary",chips:"",clearable:"","deletable-chips":"",multiple:"",label:"Cultivo"},model:{value:t.zone.plants,callback:function(e){t.$set(t.zone,"plants",e)},expression:"zone.plants"}})],1)],1):t._e(),n("v-row",[n("v-col",{staticClass:"pt-0"},[n("v-checkbox",{attrs:{label:"Recibir notificaciones"},model:{value:t.zone.notifications,callback:function(e){t.$set(t.zone,"notifications",e)},expression:"zone.notifications"}})],1)],1),n("v-row",{staticClass:"mt-10"},[n("v-col",{staticClass:"pt-0"},[n("v-btn",{attrs:{color:"primary",rounded:"",width:"100%",disabled:!t.zone.name,large:"",depressed:""},on:{click:function(e){return t.$emit("next")}}},[t._v(" Continuar ")])],1)],1)],1)},Ji=[],Xi={props:{value:{type:Object,required:!0},zoneTypes:{type:Object,required:!0}},computed:{zone:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},isEconomicZone:function(){return"economic"===this.zone.type}},data:function(){return{rules:[function(t){return t.length<=32||"Maximo 32 caracteres"}],plants:[]}},created:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z("get","/plants");case 2:t.plants=e.sent.data;case 3:case"end":return e.stop()}}),e)})))()}},Wi=Xi,Ki=Object(et["a"])(Wi,Hi,Ji,!1,null,null,null),Yi=Ki.exports;at()(Ki,{VAutocomplete:zi["a"],VBtn:ot["a"],VCheckbox:Si["a"],VCol:Ut["a"],VContainer:Bt["a"],VImg:bt["a"],VRow:Gt["a"],VTextField:Ie["a"]});var Qi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-sheet",{staticStyle:{top:"26px","z-index":"4",position:"absolute",left:"50%",transform:"translateX(-50%)","white-space":"nowrap"},attrs:{rounded:""}},[n("v-card-text",[n("span",{staticClass:"text-subtitle-2"},[t._v("Marque la localizacion en el mapa")])])],1),n("map-component",{ref:"leafletZone",staticStyle:{height:"84vh",position:"inherit"},attrs:{"add-marker":t.mapMarker},on:{onAddMarker:t.addMarker}}),n("v-btn",{staticStyle:{bottom:"80px"},attrs:{color:"primary",elevation:"2",dark:"",fixed:"",bottom:"",right:"",fab:"",medium:""},on:{click:function(e){return t.markerSet(!t.mapMarker)}}},[t.mapMarker?n("v-icon",{attrs:{dark:""}},[t._v(" mdi-close ")]):n("v-icon",{attrs:{dark:""}},[t._v(" fas fa-map-marker-alt ")])],1),n("v-btn",{staticStyle:{bottom:"150px"},attrs:{color:"primary",elevation:"2",disabled:!t.zone.geojson,fixed:"",bottom:"",right:"",fab:"",medium:""},on:{click:function(e){return t.sendData()}}},[n("v-icon",{attrs:{dark:""}},[t._v(" fa-check ")])],1)],1)},to=[],eo=At["a"].Geolocation,no={components:{MapComponent:tn},props:{value:{type:Object,required:!0}},computed:{zone:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},data:function(){return{options:{enableHighAccuracy:!0,timeout:5e3,maximumAge:0},mapMarker:!1}},mounted:function(){var t=this;return Object(It["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo.getCurrentPosition(t.options);case 2:n=e.sent,t.$refs.leafletZone.setUserLocation(Object.values(n.coords).slice(0,2),0),t.$nextTick((function(){t.$refs.leafletZone.zoomToUserLocation(6)}));case 5:case"end":return e.stop()}}),e)})))()},methods:{removePreviousPoint:function(){this.$refs.leafletZone.clearLayers()},markerSet:function(t){t&&this.removePreviousPoint(),this.mapMarker=t},addMarker:function(t){this.markerSet(!1),this.$refs.leafletZone.zoomToMarkers(14),this.zone.geojson=t},sendData:function(){this.$emit("onAccept")}}},ao=no,io=(n("a5c4"),n("8dd9")),oo=Object(et["a"])(ao,Qi,to,!1,null,"57c08727",null),ro=oo.exports;at()(oo,{VBtn:ot["a"],VCardText:rn["a"],VIcon:rt["a"],VSheet:io["a"]});var so=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[t._l(t.zoneTypes,(function(e,a,i){return[n("v-row",{key:a},[n("v-col",{attrs:{align:"center",justify:"center"},on:{click:function(e){return t.setZone(a)}}},[n("v-img",{staticClass:"mb-4 mt-6",attrs:{width:200,src:e.image}}),n("span",{staticClass:"text-h4"},[t._v(t._s(e.label))]),n("p",{staticClass:"mt-4 mb-4"},[t._v(t._s(e.description))])],1)],1),i<Object.keys(e).length-2?n("v-divider",{key:a}):t._e()]}))],2)},co=[],lo={props:{value:{type:Object,required:!0},zoneTypes:{type:Object,required:!0}},computed:{zone:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{setZone:function(t){this.zone.type=t,this.$emit("onSelect")}}},uo=lo,mo=Object(et["a"])(uo,so,co,!1,null,null,null),po=mo.exports;at()(mo,{VCol:Ut["a"],VContainer:Bt["a"],VDivider:ht["a"],VImg:bt["a"],VRow:Gt["a"]});var vo={components:{ZoneData:Yi,ZoneMap:ro,ZoneType:po},data:function(){return{step:1,steps:3,isSaving:!1,zone:{name:"",type:void 0,geojson:void 0,notifications:!0,plants:[]},zoneType:{sanitary:{label:"Urbana",description:"Zonas enfocadas a la detección de especies potencialmente perjudiciales para la salud",image:Za.a,distance:5},economic:{label:"Rural",description:"Zonas agrícolas, enfocadas principalmente a la deteccion de plagas que afectan los cultivos",image:Ba.a,distance:50}}}},methods:{setZone:function(t){this.zone.type=t,this.step++},nextStep:function(){this.step++},createZone:function(){var t=this;this.step=0,this.isSaving=!0,this.zone.distance=this.zoneType[this.zone.type].distance,this.$store.dispatch(d.CreateZone,this.zone).then((function(e){t.isSaving=!1,t.$router.push({name:"Zona",params:{id:e.id}})}))}}},fo=vo,ho=n("7e85"),bo=n("e516"),go=n("9c54"),xo=n("56a4"),yo=Object(et["a"])(fo,qi,Fi,!1,null,null,null),_o=yo.exports;at()(yo,{VCol:Ut["a"],VContainer:Bt["a"],VDialog:te["a"],VDivider:ht["a"],VProgressCircular:ee["a"],VRow:Gt["a"],VStepper:ho["a"],VStepperContent:bo["a"],VStepperHeader:go["a"],VStepperItems:go["b"],VStepperStep:xo["a"]}),i["a"].use(ge["a"]);var Co=[{path:"/home",name:"Home",component:je,beforeEnter:function(t,e,n){St()?n():n("/login")}},{path:"/login",name:"Login",component:Te,beforeEnter:function(t,e,n){St()?n("/observations"):n()}},{path:"/register",name:"Register",component:En,beforeEnter:function(t,e,n){St()?n("/observations"):n()}},{path:"/observations",name:"Observaciones",component:Ue,beforeEnter:function(t,e,n){St()?n():n("/login")}},{path:"/observations/:id",name:"Observacion",component:_n,beforeEnter:function(t,e,n){St()?n():n("/login")}},{path:"/taxons/:id",name:"Especie",component:Aa,beforeEnter:function(t,e,n){St()?n():n("/login")}},{path:"/zones",name:"Zonas",component:Ja,beforeEnter:function(t,e,n){St()?n():n("/login")}},{path:"/zones/:id",name:"Zona",component:Gi,beforeEnter:function(t,e,n){St()?n():n("/login")}},{path:"/zones/new",name:"NewZone",component:_o,beforeEnter:function(t,e,n){St()?n():n("/login")}},{path:"/mapa",name:"Mapa",component:mn,beforeEnter:function(t,e,n){St()?n():n("/login")}},{path:"/",name:"Mapa",component:mn,beforeEnter:function(t,e,n){St()?n():n("/login")}},{path:"/identify",name:"Identificacion",component:Sn,beforeEnter:function(t,e,n){St()?n():n("/login")}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],wo=new ge["a"]({mode:"history",base:"/",routes:Co}),jo=wo,ko=n("2f62");i["a"].use(ko["a"]);var Vo=function(){return{settings:{cameraActive:!1,showMenuPanel:!1},user:void 0,observations:[],notifications:[],predictions:[],zones:[]}},zo=new ko["a"].Store({state:Vo(),getters:Y,mutations:g,actions:q}),So=n("f309"),Lo=n("fcf4");n("15f5");i["a"].use(So["a"]);var Oo=new So["a"]({theme:{themes:{light:{primary:"#219653",secondary:Lo["a"].green.lighten4,accent:Lo["a"].indigo.base,background:Lo["a"].grey.lighten5}}}}),Io=(n("4854"),At["a"].SplashScreen);i["a"].config.productionTip=!1,new i["a"]({router:jo,store:zo,vuetify:Oo,render:function(t){return t(he)},mounted:function(){Io.hide()}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("9c0c"),i=n.n(a);i.a},"66fe":function(t,e,n){},"7da1":function(t,e,n){"use strict";var a=n("bc4c"),i=n.n(a);i.a},"87a6":function(t,e,n){"use strict";var a=n("2c57"),i=n.n(a);i.a},8861:function(t,e,n){t.exports=n.p+"img/economic.ca36e40c.svg"},"894b":function(t,e,n){"use strict";var a=n("a8f9"),i=n.n(a);i.a},"95d3":function(t,e,n){},"9c0c":function(t,e,n){},a396:function(t,e,n){"use strict";var a=n("0575"),i=n.n(a);i.a},a5c4:function(t,e,n){"use strict";var a=n("43ff"),i=n.n(a);i.a},a85f:function(t,e,n){"use strict";var a=n("0f97"),i=n.n(a);i.a},a8f9:function(t,e,n){},bc4c:function(t,e,n){},be79:function(t,e,n){},c654:function(t,e,n){"use strict";var a=n("d072"),i=n.n(a);i.a},c855:function(t,e,n){t.exports=n.p+"img/identify_insect.66ee90fa.svg"},d072:function(t,e,n){},d862:function(t,e,n){t.exports=n.p+"img/sanitary.66cd5447.svg"},df73:function(t,e,n){},e255:function(t,e,n){"use strict";var a=n("df73"),i=n.n(a);i.a},e3c7:function(t,e,n){"use strict";var a=n("be79"),i=n.n(a);i.a},e43d:function(t,e,n){"use strict";var a=n("2001"),i=n.n(a);i.a},e53b:function(t,e,n){"use strict";var a=n("95d3"),i=n.n(a);i.a},e902:function(t,e,n){"use strict";var a=n("0c1c"),i=n.n(a);i.a}});
//# sourceMappingURL=app.e368a9c4.js.map